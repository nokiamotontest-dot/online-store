<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç¶²åº—åŠŸèƒ½æ¸¬è©¦</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        .test-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }
        h1 { text-align: center; color: #333; margin-bottom: 30px; }
        .test-result {
            display: flex;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            border-radius: 10px;
            background: #f8f9fa;
        }
        .test-result.pass { background: #d4edda; border-left: 5px solid #28a745; }
        .test-result.fail { background: #f8d7da; border-left: 5px solid #dc3545; }
        .test-result .icon { font-size: 24px; margin-right: 15px; }
        .test-result .message { flex: 1; }
        .summary {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            border-radius: 10px;
        }
        .summary.success { background: linear-gradient(135deg, #28a745, #20c997); color: white; }
        .summary.error { background: linear-gradient(135deg, #dc3545, #c82333); color: white; }
        .btn {
            display: inline-block;
            padding: 15px 30px;
            margin: 10px;
            border-radius: 10px;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.3s;
        }
        .btn:hover { transform: scale(1.05); }
        .btn-primary { background: #667eea; color: white; }
        .btn-success { background: #28a745; color: white; }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ§ª ç¶²åº—åŠŸèƒ½æ¸¬è©¦</h1>
        
        <div id="test-results">
            <div class="test-result" id="test-1">
                <span class="icon">â³</span>
                <span class="message">æ­£åœ¨æ¸¬è©¦ JavaScript åŠ è¼‰...</span>
            </div>
            <div class="test-result" id="test-2">
                <span class="icon">â³</span>
                <span class="message">æ­£åœ¨æ¸¬è©¦å•†å“æ•¸æ“š...</span>
            </div>
            <div class="test-result" id="test-3">
                <span class="icon">â³</span>
                <span class="message">æ­£åœ¨æ¸¬è©¦åœ–ç‰‡æ¸²æŸ“...</span>
            </div>
            <div class="test-result" id="test-4">
                <span class="icon">â³</span>
                <span class="message">æ­£åœ¨æ¸¬è©¦åŠ å…¥è³¼ç‰©è»Š...</span>
            </div>
            <div class="test-result" id="test-5">
                <span class="icon">â³</span>
                <span class="message">æ­£åœ¨æ¸¬è©¦çµå¸³æµç¨‹...</span>
            </div>
        </div>
        
        <div id="summary" class="summary" style="display:none;">
            <h2 id="summary-title"></h2>
            <p id="summary-message"></p>
        </div>
        
        <div style="text-align: center; margin-top: 30px;">
            <a href="https://nokiamotontest-dot.github.io/online-store/" class="btn btn-primary" target="_blank">
                ğŸª æ‰“é–‹ç¶²åº—
            </a>
            <a href="products.html" class="btn btn-success">
                ğŸ›’ æ¸¬è©¦è³¼è²·æµç¨‹
            </a>
        </div>
    </div>
    
    <script>
// ========== æ¸¬è©¦è…³æœ¬ ==========
document.addEventListener('DOMContentLoaded', function() {
    runTests();
});

async function runTests() {
    let passed = 0;
    let total = 5;
    
    // æ¸¬è©¦ 1: JavaScript åŠ è¼‰
    await new Promise(resolve => setTimeout(resolve, 500));
    if (typeof DB !== 'undefined' && DB.products && DB.products.length > 0) {
        document.getElementById('test-1').className = 'test-result pass';
        document.getElementById('test-1').innerHTML = '<span class="icon">âœ…</span><span class="message">JavaScript åŠ è¼‰æ­£å¸¸ - æ‰¾åˆ° ' + DB.products.length + ' å€‹å•†å“</span>';
        passed++;
    } else {
        document.getElementById('test-1').className = 'test-result fail';
        document.getElementById('test-1').innerHTML = '<span class="icon">âŒ</span><span class="message">JavaScript åŠ è¼‰å¤±æ•—</span>';
    }
    
    // æ¸¬è©¦ 2: å•†å“æ•¸æ“š
    if (typeof DB !== 'undefined' && DB.products && DB.products.length >= 12) {
        document.getElementById('test-2').className = 'test-result pass';
        document.getElementById('test-2').innerHTML = '<span class="icon">âœ…</span><span class="message">å•†å“æ•¸æ“šæ­£å¸¸ - ' + DB.products.length + ' å€‹å•†å“å·²åŠ è¼‰</span>';
        passed++;
    } else {
        document.getElementById('test-2').className = 'test-result fail';
        document.getElementById('test-2').innerHTML = '<span class="icon">âŒ</span><span class="message">å•†å“æ•¸æ“šç•°å¸¸</span>';
    }
    
    // æ¸¬è©¦ 3: åœ–ç‰‡æ¸²æŸ“
    if (typeof DB !== 'undefined' && DB.products) {
        const productsWithImages = DB.products.filter(p => 
            p.image && (p.image.endsWith('.svg') || p.image.endsWith('.jpg') || p.image.endsWith('.png'))
        );
        if (productsWithImages.length >= 12) {
            document.getElementById('test-3').className = 'test-result pass';
            document.getElementById('test-3').innerHTML = '<span class="icon">âœ…</span><span class="message">åœ–ç‰‡æ¸²æŸ“æ­£å¸¸ - ' + productsWithImages.length + ' å€‹å•†å“æœ‰åœ–ç‰‡</span>';
            passed++;
        } else {
            document.getElementById('test-3').className = 'test-result fail';
            document.getElementById('test-3').innerHTML = '<span class="icon">âŒ</span><span class="message">åœ–ç‰‡æ¸²æŸ“ç•°å¸¸</span>';
        }
    }
    
    // æ¸¬è©¦ 4: åŠ å…¥è³¼ç‰©è»Š
    if (typeof DB !== 'undefined') {
        const initialCount = DB.cart.length;
        if (typeof addToCart === 'function') {
            addToCart(101); // åŠ å…¥ç¬¬ä¸€å€‹å•†å“
            if (DB.cart.length > initialCount) {
                document.getElementById('test-4').className = 'test-result pass';
                document.getElementById('test-4').innerHTML = '<span class="icon">âœ…</span><span class="message">åŠ å…¥è³¼ç‰©è»Šæ­£å¸¸</span>';
                passed++;
            } else {
                document.getElementById('test-4').className = 'test-result fail';
                document.getElementById('test-4').innerHTML = '<span class="icon">âŒ</span><span class="message">åŠ å…¥è³¼ç‰©è»Šå¤±æ•—</span>';
            }
        } else {
            document.getElementById('test-4').className = 'test-result fail';
            document.getElementById('test-4').innerHTML = '<span class="icon">âŒ</span><span class="message">addToCart å‡½æ•¸æœªå®šç¾©</span>';
        }
    }
    
    // æ¸¬è©¦ 5: çµå¸³æµç¨‹ï¼ˆæª¢æŸ¥å‡½æ•¸æ˜¯å¦å­˜åœ¨ï¼‰
    if (typeof checkout === 'function' && typeof calculateTotal === 'function') {
        document.getElementById('test-5').className = 'test-result pass';
        document.getElementById('test-5').innerHTML = '<span class="icon">âœ…</span><span class="message">çµå¸³å‡½æ•¸æ­£å¸¸</span>';
        passed++;
    } else {
        document.getElementById('test-5').className = 'test-result fail';
        document.getElementById('test-5').innerHTML = '<span class="icon">âŒ</span><span class="message">çµå¸³å‡½æ•¸ç•°å¸¸</span>';
    }
    
    // é¡¯ç¤ºç¸½çµ
    const summary = document.getElementById('summary');
    summary.style.display = 'block';
    if (passed === total) {
        summary.className = 'summary success';
        document.getElementById('summary-title').textContent = 'ğŸ‰ æ‰€æœ‰æ¸¬è©¦é€šéï¼';
        document.getElementById('summary-message').textContent = 'ç¶²åº—åŠŸèƒ½æ­£å¸¸ï¼Œç¾åœ¨å¯ä»¥é–‹å§‹è³¼ç‰©äº†ï¼';
    } else {
        summary.className = 'summary error';
        document.getElementById('summary-title').textContent = 'âš ï¸ éƒ¨åˆ†æ¸¬è©¦å¤±æ•—';
        document.getElementById('summary-message').textContent = 'é€šé: ' + passed + '/' + total + ' æ¸¬è©¦';
    }
}
    </script>
</body>
</html>
